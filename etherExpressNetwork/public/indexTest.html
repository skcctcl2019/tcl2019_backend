<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>BabyChain front-end</title>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script type="text/javascript">
            //<![CDATA[
$(document).ready(function () {

    $('#getBabiesCount').click(function () {
        $.get('/getBabiesCount', function (response) {
            console.log(response);
        });
    });

    /* BKMH - 기존 jquery 방식의 EventHandler 구조를 정확히 몰라 일단 form에서 button을 submit으로 변경하는 방식으로 처리
    $('#addBaby').click(function () {

        


        // 실제로 전달되는 값에서 file 을 multer로 처리하기 위한 방식 확인 필요
        // jquey - multer or form 처리방식 확인
        //console.log(req.body.imagePath);

        var imagePath = $('#imagePath').val();
        var etcSpfeatr = $('#etcSpfeatr').val();
        var phoneNumber = $('#phoneNumber').val();
        var age = $('#age').val();

        // addBaby 호출을 위한 Form submit 처리
        // route를 통해 addBaby Post를 호출해야 함.
        $('addBabyForm').submit();

        
        $.post('/addBaby', {"imagePath" : imagePath, "etcSpfeatr" : etcSpfeatr, "phoneNumber" : phoneNumber, "age" : age}, function (err, res) {

            console.log(res);
        });
        
    });

    */

    $('#getBabyById').click(function () {
        var id = $('#id').val();
        $.post('/getBabyById', {"id" : id}, function (response) {
            console.log(response);
        });
    });

    $('#getBabyByImagePath').click(function () {
        var imagePath = $('#imagePath2').val();
        $.post('/getBabyByImagePath', {"imagePath" : imagePath}, function (response) {
            console.log(response);
        });
    });

    $('#getAllBabies').click(function () {
        $.get('/getAllBabies', function (response) {
            console.log(response);
        });
    });
})
            //]]>
        </script>
    </head>
    <body>
        <hr/>
        <button type="button" id="getBabiesCount">getBabiesCount</button>
        <hr/>
        <form id="addBabyForm" action = "/addBaby" method="post" enctype="multipart/form-data" >

            <!--imagePath : <input type="text" name="imagePath" id="imagePath" value="//" /><br />-->
            <p>
                imagePath : <input type="file" name="imagePath" id="imagePath" value "//" />
            <p>
                etcSpfeatr : <input type="text" name="etcSpfeatr" id="etcSpfeatr" value="특이사항" />
            <p>
                phoneNumber : <input type="text" name="phoneNumber" id="phoneNumber" value="010-1111-2222" />
            <p>
                age : <input type="text" name="age" id="age" value="10" /><br />
            <button type="submit" id="addBaby">addBaby</button>
        </form>

        <hr />
        id : <input type="text" name="id" id="id" value="0" /><br />
        <button type="button" id="getBabyById">getBabyById</button>
        <hr />

        imagePath : <input type="text" name="imagePath2" id="imagePath2" value="//" /><br />
        <button type="button" id="getBabyByImagePath">getBabyByImagePath</button>
        <hr />

        <button type="button" id="getAllBabies">getAllBabies</button>

    </body>
</html>